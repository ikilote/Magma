:host {
    --thumb-height: 18px;
    --thumb-width: 18px;

    display: grid;
    grid-template:
        'value  hue    alpha'
        'inputs inputs inputs' /
        340px auto auto;
    gap: 10px 30px;

    &.embedded {
        transition-duration: 0s;
        box-shadow: 2px 2px 5px;
        background-color: var(--neutralA);
        padding: 10px;
    }
}
.value {
    display: flex;
    grid-area: value;
}
.hue {
    display: flex;
    grid-area: hue;
    justify-content: center;
    align-items: center;
}
.alpha {
    display: flex;
    grid-area: alpha;
    justify-content: center;
    align-items: center;
}
.inputs {
    display: grid;
    grid-area: inputs;
    grid-template:
        'color-view hsla'
        'color-view rgba'
        'color-view hexa' /
        auto 1fr;
    gap: 5px 30px;
}

.color-view {
    position: relative;
    grid-area: color-view;
    border: 1px solid var(--neutral);
    background: conic-gradient(#ccc 0.25turn, #aaa 0.25turn 0.5turn, #ccc 0.5turn 0.75turn, #aaa 0.75turn) top left /
        15px 15px repeat;
    width: 150px;

    &::before {
        display: block;
        background: var(--background);
        height: 100%;
        content: '';
    }
}

.gradient {
    --margin: 10px;
    margin: var(--margin);
    background: linear-gradient(to left, black, transparent),
        linear-gradient(hsl(calc(360 - var(--hue, 0)), 100%, 50%), hsl(calc(360 - var(--hue, 0)), 100%, 100%));
    width: calc(100% - var(--margin) * 2);
    height: calc(100% - var(--margin) * 2);
}

.cursor-zone {
    --cursor-size: 10px;

    position: relative;
    cursor: crosshair;
    margin: calc((var(--cursor-size) - 2px) / -2);
    outline: 1px solid var(--neutral);
    outline-offset: -3px;
    width: calc(100% + var(--cursor-size) - 2px);
    height: calc(100% + var(--cursor-size) - 2px);
}

:host.on-drag .cursor-zone {
    cursor: pointer;
}

.cursor {
    cursor: pointer;
    outline: 2px solid black;
    border-radius: 50%;
    width: var(--cursor-size);
    height: var(--cursor-size);

    &.negative {
        outline: 2px solid white;
    }
}

.hsla,
.rgba {
    font-size: 13px;
}

// --------------------------------- RANGE ----------------------------------------------

input[type='range'] {
    cursor: pointer;
    outline: none;
    border: 0;
    background: transparent;

    --hue-background: linear-gradient(
        to bottom in hsl,
        hsl(0, 100%, 50%) 0%,
        hsl(90, 100%, 50%) 25%,
        hsl(180, 100%, 50%) 50%,
        hsl(270, 100%, 50%) 75%,
        hsl(360, 100%, 50%) 100%
    );
    --alpha-background: linear-gradient(to bottom, black 0%, transparent 100%),
        conic-gradient(#ccc 0.25turn, #aaa 0.25turn 0.5turn, #ccc 0.5turn 0.75turn, #aaa 0.75turn) top left / 5px 5px
            repeat;

    &:focus {
        outline: none;
    }
}

/* Chrome, Safari, Edge, Web */
@supports selector(::-webkit-slider-runnable-track) {
    input[type='range'] {
        appearance: none;
        height: 150px;
    }

    /* Input Track */

    input[type='range']::-webkit-slider-runnable-track {
        appearance: none;
        border: 1px solid var(--neutral);
        border-radius: 0;
        background-color: transparent;
        width: 20px;
        height: 100%;
    }

    .alpha > ::-webkit-slider-runnable-track {
        background: var(--alpha-background);
        background-color: transparent;
    }

    .hue > input::-webkit-slider-runnable-track {
        background-image: var(--hue-background);
        background-color: transparent;
    }

    /* Input Thumb */

    input[type='range']::-webkit-slider-thumb {
        appearance: none;
        margin-left: -6px;
        border: 1px solid var(--neutral);
        border-radius: 0;
        width: 30px;
        height: 5px;
    }

    .alpha > input::-webkit-slider-thumb {
        background: hsl(0, 0%, calc(100% - var(--alpha, 0%)));
    }

    .hue > input::-webkit-slider-thumb {
        background: hsl(calc(360 - var(--hue, 0)), 100%, 50%);
    }
}

/*  Safari, Web */

@supports (background: -webkit-named-image(i)) {
    input[type='range'][orient='vertical'] {
        appearance: slider-vertical;
        width: 8px;
    }
    input[type='range']::-webkit-slider-thumb {
        appearance: none;
    }
}

/* Firefox */
@supports selector(::-moz-range-track) {
    input[type='range']::-moz-range-track {
        border: 1px solid var(--neutral);
        border-radius: 0;
        width: 20px;
        height: 100%;
    }

    .alpha > ::-moz-range-track {
        background: var(--alpha-background);
    }

    .hue > ::-moz-range-track {
        background: var(--hue-background);
    }

    input[type='range']::-moz-range-thumb {
        appearance: none;
        border: 1px solid var(--neutral);
        border-radius: 0;
        width: 30px;
        height: 5px;
    }

    .alpha > ::-moz-range-thumb {
        background: hsl(0, 0%, calc(100% - var(--alpha, 0%)));
    }

    .hue > ::-moz-range-thumb {
        background: hsl(calc(360 - var(--hue, 0)), 100%, 50%);
    }
}
