<h1>Context menu</h1>

@if (ctrlForm) {
  <section>
    <form class="s-3 s-6-x s-12-m" [formGroup]="ctrlForm">
      <p>
        <mg-input>
          <mg-input-label>Color value</mg-input-label>
          <mg-input-text formControlName="color"></mg-input-text>
        </mg-input>
      </p>
      <div>
        <mg-input class="s-4">
          <mg-input-label>Alpha</mg-input-label>
          <mg-input-checkbox formControlName="alpha" mode="toggle"></mg-input-checkbox>
        </mg-input>
        <mg-input class="s-4">
          <mg-input-label>Readonly</mg-input-label>
          <mg-input-checkbox formControlName="readonly" mode="toggle"></mg-input-checkbox>
        </mg-input>
        <mg-input class="s-4">
          <mg-input-label>Clear button</mg-input-label>
          <mg-input-checkbox formControlName="clearButton" mode="toggle"></mg-input-checkbox>
        </mg-input>
        <mg-input class="s-4">
          <mg-input-label>Palette</mg-input-label>
          <mg-input-checkbox formControlName="palette" mode="toggle"></mg-input-checkbox>
        </mg-input>
        <mg-input class="s-4">
          <mg-input-label>Texts</mg-input-label>
          <mg-input-checkbox formControlName="texts" mode="toggle"></mg-input-checkbox>
        </mg-input>
      </div>
    </form>
    <div class="s-5 s-6-x s-12-m">
      <h4>Component</h4>

      <color-picker
        [color]="ctrlForm.value.color"
        [alpha]="ctrlForm.value.alpha"
        [clearButton]="ctrlForm.value.clearButton"
        [readonly]="ctrlForm.value.readonly"
        [palette]="ctrlForm.value.palette ? palette : undefined"
        [texts]="ctrlForm.value.texts ? texts : undefined"
        (colorChange)="colorChange($event)"
      ></color-picker>
    </div>
    <div class="s-4 s-12-x">
      <code-tabs [code]="[{ type: 'html', code: codeHtml }]"></code-tabs>
    </div>
  </section>

  <hr />

  <section>
    <form class="s-4 s-6-x s-12-m" [formGroup]="ctrlFormPopup">
      <p>
        <mg-input>
          <mg-input-label>colorPicker</mg-input-label>
          <mg-input-text formControlName="color"></mg-input-text>
        </mg-input>
      </p>
      <p>
        <mg-input class="s-3">
          <mg-input-label>Alpha</mg-input-label>
          <mg-input-checkbox formControlName="alpha" mode="toggle"></mg-input-checkbox>
        </mg-input>
        <mg-input class="s-3">
          <mg-input-label>Disabled</mg-input-label>
          <mg-input-checkbox formControlName="disabled" mode="toggle"></mg-input-checkbox>
        </mg-input>
        <mg-input class="s-3">
          <mg-input-label>Readonly</mg-input-label>
          <mg-input-checkbox formControlName="readonly" mode="toggle"></mg-input-checkbox>
        </mg-input>
        <mg-input class="s-4">
          <mg-input-label>Clear button</mg-input-label>
          <mg-input-checkbox formControlName="clearButton" mode="toggle"></mg-input-checkbox>
        </mg-input>
        <mg-input class="s-4">
          <mg-input-label>Palette</mg-input-label>
          <mg-input-checkbox formControlName="palette" mode="toggle"></mg-input-checkbox>
        </mg-input>
        <mg-input class="s-4">
          <mg-input-label>Texts</mg-input-label>
          <mg-input-checkbox formControlName="texts" mode="toggle"></mg-input-checkbox>
        </mg-input>
      </p>
    </form>
    <div class="s-4 s-6-x s-12-m">
      <h4>Directive</h4>
      <div>
        <p>
          <button
            [colorPicker]="ctrlFormPopup.value.color"
            [colorPickerAlpha]="ctrlFormPopup.value.alpha"
            [colorPickerDisabled]="ctrlFormPopup.value.disabled"
            [colorPickerReadonly]="ctrlFormPopup.value.readonly"
            [colorPickerClearButton]="ctrlFormPopup.value.clearButton"
            [colorPickerPalette]="ctrlFormPopup.value.palette ? palette : undefined"
            [colorPickerTexts]="ctrlFormPopup.value.texts ? texts : undefined"
            (colorChange)="colorChange($event)"
            (colorClose)="colorClose($event)"
          >
            Click me
          </button>
        </p>
        <div>
          colorChange : <code>{{ colorChangeValue }}</code>
        </div>
        <div>
          colorClose : <code>{{ colorCloseValue }}</code>
        </div>
      </div>
    </div>
    <div class="s-4 s-12-x">
      <code-tabs [code]="[{ type: 'html', code: codeHtmlPopup }]"></code-tabs>
    </div>
  </section>
}
