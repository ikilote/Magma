<h1>Tabs</h1>

@if (ctrlForm) {
  <section>
    <div class="s-3 s-12-l">
      <form [formGroup]="form">
        <h3>Style</h3>
        <mg-input>
          <mg-input-checkbox formControlName="compact" mode="toggle">Compact</mg-input-checkbox>
        </mg-input>
        <h3>Text</h3>
        <mg-input>
          <mg-input-label>returnTabsLabel</mg-input-label>
          <mg-input-text formControlName="returnTabsLabel" />
          <mg-input-desc>For keyboard navigation</mg-input-desc>
        </mg-input>
      </form>

      <h3>Add tab</h3>
      <form [formGroup]="ctrlForm">
        <div>
          <mg-input>
            <mg-input-label>id</mg-input-label>
            <mg-input-text formControlName="id" />
          </mg-input>
        </div>
        <div>
          <mg-input>
            <mg-input-label>title</mg-input-label>
            <mg-input-textarea formControlName="title" autosize></mg-input-textarea>
          </mg-input>
        </div>
        <div>
          <mg-input>
            <mg-input-label>content</mg-input-label>
            <mg-input-textarea formControlName="content" autosize></mg-input-textarea>
          </mg-input>
        </div>
        <div>
          <mg-input>
            <mg-input-checkbox formControlName="selected" mode="toggle">Selected</mg-input-checkbox>
          </mg-input>
        </div>
        <button (click)="addTab()">Add</button>
      </form>
    </div>
    <div class="s-5 s-12-l">
      <mg-tabs [class.compact]="form.value.compact" [returnTabsLabel]="form.value.returnTabsLabel!">
        @for (item of tabs; track $index) {
          <mg-tab-title [id]="item.id" [selected]="item.selected">{{ item.title }}</mg-tab-title>
        }
        @for (item of tabs; track $index) {
          <mg-tab-content [id]="item.id">{{ item.content }}</mg-tab-content>
        }
      </mg-tabs>
    </div>
    <div class="s-4 s-12-l">
      <code-tabs
        [code]="[
          { type: 'html', code: codeHtml },
          { type: 'ts', code: codeTs },
        ]"
      />
    </div>
  </section>
}

<h2>Other test</h2>

<mg-block>
  <button (click)="dialog.open()">Dialog</button>
</mg-block>

<mg-dialog #dialog closeBackdrop closeButton>
  <h2>Test in dialog</h2>
  <mg-tabs>
    <mg-tab-title id="test1">test1</mg-tab-title>
    <mg-tab-content id="test1">Content 1</mg-tab-content>
    <mg-tab-title id="test2">test2</mg-tab-title>
    <mg-tab-content id="test2">Content 2</mg-tab-content>
  </mg-tabs>
</mg-dialog>
