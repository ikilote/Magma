<mg-tabs (tabChange)="tabChange($event)" class="compact">
  <mg-tab-title id="hsl">{{ texts()?.hsl ?? 'HSL' }}</mg-tab-title>
  <mg-tab-content id="hsl" class="tab-hsl">
    <div class="value">
      <div class="gradient">
        <div class="cursor-zone" #cursorZone (click)="click($event)">
          <div
            class="cursor"
            cdkDrag
            cdkDragBoundary=".cursor-zone"
            (cdkDragStarted)="dragStart()"
            (cdkDragEnded)="dragEnd($event)"
            [cdkDragFreeDragPosition]="pos"
            [cdkDragDisabled]="readonly()"
            (click)="$event.stopPropagation()"
          ></div>
        </div>
      </div>
    </div>
    <div class="hue">
      <input
        type="range"
        [(ngModel)]="rangeHue"
        (ngModelChange)="updateColor()"
        [disabled]="readonly()"
        min="0"
        max="360"
        orient="vertical"
      />
    </div>
    @if (alpha()) {
      <div class="alpha">
        <input
          type="range"
          [(ngModel)]="rangeAlpha"
          (ngModelChange)="updateColor()"
          [disabled]="readonly()"
          min="0"
          max="1"
          step="0.001"
          orient="vertical"
        />
      </div>
    }
  </mg-tab-content>
  <mg-tab-title id="palette">{{ texts()?.palette ?? 'Palette' }}</mg-tab-title>
  <mg-tab-content id="palette">
    <div class="palette base">
      @for (color of _palette(); track $index) {
        <button (click)="updateHex(color)" [style.--color]="color" [class.selected]="color === hexa"></button>
      }
    </div>
    @if (datalist()?.length) {
      <div class="palette datalist">
        @for (color of datalist(); track $index) {
          <button (click)="updateHex(color)" [style.--color]="color" [class.selected]="color === hexa"></button>
        }
      </div>
    }
  </mg-tab-content>
</mg-tabs>
@if (hexa) {
  <div class="values" dir="ltr">
    <div class="color-view" [style.--background]="hsla"></div>
    <div class="hsla">
      {{ hsla }}
    </div>
    <div class="rgba">
      {{ rgba }}
    </div>
    <div class="input-zone">
      <input type="text" [ngModel]="hexa" (ngModelChange)="updateHex($event)" [disabled]="readonly()" />
      @if (clearButton()) {
        <button (click)="clear()">Ã—</button>
      }
    </div>
  </div>
}
