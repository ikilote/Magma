<menu>
  <div class="title">
    <h2>
      <img src="/assets/images/magma.svg" alt="logo" />
      <div>Magma</div>
      <small>{{ version }}</small>
    </h2>
    <button class="mobile-menu" (click)="toggleMenu()">×</button>
  </div>
  <div class="content">
    @for (group of contentMenu; track $index) {
      <ng-container
        [ngTemplateOutlet]="groupTemplate"
        [ngTemplateOutletContext]="{ lvl: 1, groupItem: group }"
      ></ng-container>
    }
  </div>
  <div class="light-dark">
    <mg-light-dark></mg-light-dark>
  </div>
</menu>
<main>
  <button class="mobile-menu" (click)="toggleMenu()">☰</button>
  <router-outlet></router-outlet>
</main>

<ng-template #groupTemplate let-groupItem="groupItem" let-lvl="lvl">
  @if (groupItem.groupName) {
    <div class="lvl{{ lvl }}">{{ groupItem.groupName }}</div>
  }
  <ul>
    @for (item of groupItem.items; track $index) {
      <li>
        @if (item.label) {
          <a [routerLink]="item.routerLink" routerLinkActive="selected" [innerHTML]="item.label"></a>
        } @else {
          <ng-container
            [ngTemplateOutlet]="groupTemplate"
            [ngTemplateOutletContext]="{ lvl: lvl + 1, groupItem: item }"
          ></ng-container>
        }
      </li>
    }
  </ul>
</ng-template>
